---
title: "常用Linux命令"
summary: 
  first: "简单记录下常用的Linux命令"
  second: ""
illustration: 
  position: "left"
  link: "code.png"
tag: 
  - "Linux"
---
# 常用Linux命令

## 查看文件相关

### cat命令

**cat**命令用于连接文件并打印到标准输出设备上，cat经常用来显示文件的内容


::: warning 介绍
当文件较大时，文本在屏幕上迅速闪过（滚屏），用户往往看不清所显示的内容。因此，一般用more等命令分屏显示。为了控制滚屏，可以按Ctrl+S键，停止滚屏；按Ctrl+Q键可以恢复滚屏。按Ctrl+C（中断）键可以终止该命令的执行，并且返回Shell提示符状态。
:::

#### 选项

::: tip 选项
* -n或-number：由1开始对所有输出的行数编号；
* -b或--number-nonblank：和-n相似，只不过对于空白行不编号；
* -s或--squeeze-blank：当遇到有连续两行以上的空白行，就代换为一行的空白行；
* -A：显示不可打印字符，行尾显示“$”；
* -e：等价于"-vE"选项；
* -t：等价于"-vT"选项；
:::

示例

``` sh
cat [文件名] （在屏幕上显示文件的内容）

cat [文件名1] [文件名2] （同时显示文件1和文件2的内容）

cat [文件名1] [文件名2] > file （将文件1和文件2合并后放入文件file中）
```

### grep命令

**grep**（global search regular expression(RE) and print out the line，全面搜索正则表达式并把行打印出来），它是一种强大的文本搜索工具，能使用正则表达式搜索文本，并把匹配的行打印出来。

::: tip 选项
*  **-a** （ 不要忽略二进制数据）
*  -**A** （ <显示列数> 除了显示符合范本样式的那一行之外，并显示该行之后的内容）
*  -**b** （ 在显示符合范本样式的那一行之外，并显示该行之前的内容）
*  -**c** （ 计算符合范本样式的列数）
*  -**C** （ <显示列数>或-<显示列数>  除了显示符合范本样式的那一列之外，并显示该列之前后的内容）
*  -**d** （ <进行动作> 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep命令将回报信息并停止动作）
*  -**e** （ <范本样式> 指定字符串作为查找文件内容的范本样式）
*  -**E** （ 将范本样式为延伸的普通表示法来使用，意味着使用能使用扩展正则表达式）
*  -**f** （ <范本文件> 指定范本文件，其内容有一个或多个范本样式，让grep查找符合范本条件的文件内容，格式为每一列的范本样式）
*  -**F** （ 将范本样式视为固定字符串的列表）
*  -**G** （ 将范本样式视为普通的表示法来使用）
*  -**h** （ 在显示符合范本样式的那一列之前，不标示该列所属的文件名称）
*  -**H** （ 在显示符合范本样式的那一列之前，标示该列的文件名称）
*  -**i** （ 忽略字符大小写的差别）
*  -**l** （ 列出文件内容符合指定的范本样式的文件名称）
*  -**L** （ 列出文件内容不符合指定的范本样式的文件名称）
*  -**n** （ 在显示符合范本样式的那一列之前，标示出该列的编号）
*  -**q** （ 不显示任何信息）
*  -**R/-r** （此参数的效果和指定“-d recurse”参数相同）
*  -**s** （ 不显示错误信息）
*  -**v** （ 反转查找）
*  -**w** （ 只显示全字符合的列）
*  -**x** （ 只显示全列符合的列）
*  -**y** （ 此参数效果跟“-i”相同）
*  -**o** （ 只输出文件中匹配到的部分）
:::

示例

``` sh
grep [正则] [文件名]     //  在文件中查找正则对应的文本行

grep [正则] [文件1] [文件2] [文件3] ...    //  在多个文件中查找

grep -C 20 [正则] [文件名]     //  在文件中查找正则所在文本行，并显示其前后20行数据

grep -v [正则] [文件名]    //  在文件中查找除正则匹配到的文本行以外的数据（反转查找）
```

### tail命令

**tail**命令用于输出文件中的尾部内容。tail命令默认在屏幕上显示指定文件的末尾10行。如果给定的文件不止一个，则在显示的每个文件前面加一个文件名标题。如果没有指定文件或者文件名为“-”，则读取标准输入

## 网络传输命令

### wget命令

**wget**用来从指定的URL下载文件。wget非常稳定，它在带宽很窄的情况下和不稳定网络中有很强的适应性，如果是由于网络的原因下载失败，wget会不断的尝试，直到整个文件下载完毕。如果是服务器打断下载过程，它会再次联到服务器上从停止的地方继续下载。这对从那些限定了链接时间的服务器上下载大文件非常有用

::: tip 选项
* **-a** <日志文件>：在指定的日志文件中记录资料的执行过程；
* **-A** <后缀名>：指定要下载文件的后缀名，多个后缀名之间使用逗号进行分隔；
* **-b**：进行后台的方式运行wget；
* **-B** <连接地址>：设置参考的连接地址的基地地址；
* **-c**：继续执行上次终端的任务；
* **-C** <标志>：设置服务器数据块功能标志on为激活，off为关闭，默认值为on；
* **-d**：调试模式运行指令；
* **-D** <域名列表>：设置顺着的域名列表，域名之间用“，”分隔；
* **-e** <指令>：作为文件“.wgetrc”中的一部分执行指定的指令；
* **-h**：显示指令帮助信息；
* **-i** <文件>：从指定文件获取要下载的URL地址；
* **-l** <目录列表>：设置顺着的目录列表，多个目录用“，”分隔；
* **-L**：仅顺着关联的连接；
* **-r**：递归下载方式；
* **-nc**：文件存在时，下载文件不覆盖原有文件；
* **-nv**：下载时只显示更新和出错信息，不显示指令的详细执行过程；
* **-q**：不显示指令执行过程；
* **-nh**：不查询主机名称；
* **-v**：显示详细执行过程；
* **-V**：显示版本信息；
--passive-ftp：使用被动模式PASV连接FTP服务器；
--follow-ftp：从HTML文件中下载FTP连接文件。
:::

``` sh
wget [URl]     // 下载文件
```

### curl命令

**curl**命令是一个利用URL规则在命令行下工作的文件传输工具。若系统没有curl命令，可以使用yum install curl安装

它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称curl为下载工具。作为一款强力工具，curl支持包括HTTP、HTTPS、ftp等众多协议，还支持POST、cookies、认证、从指定偏移处下载部分文件、用户代理字符串、限速、文件大小、进度条等特征。做网页处理流程和数据检索自动化，curl可以祝一臂之力。

::: tip 选项
* **-d/--data** [data] （HTTP POST方式传送数据）
* **-F/--form** [name=content] （模拟http表单提交数据）
* **-G/--get** （以get的方式来发送数据）
* **-H/--header** [line] （自定义头信息传递给服务器）
* **-I/--head** （只显示请求头信息）
* **-s/--silent** 静默模式。不输出任何东西
:::

详细参数选项参考[curl命令](https://man.linuxde.net/curl)

常用示例

``` sh
curl http://man.linuxde.net/test.iso -o filename.iso --progress   // 下载文件到本地并重命名，并显示进度

curl http://baidu.com -G -I    // 以get方式请求并打印请求头信息
```

### scp命令

**scp**命令用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密的。可能会稍微影响一下速度。当你服务器硬盘变为只读read only system时，用scp可以帮你把文件移出来

::: tip 选项
* **-1**： （使用ssh协议版本1）
* **-2**： （使用ssh协议版本2）
* **-4**： （使用ipv4）
* **-6**： （使用ipv6）
* **-B**： （以批处理模式运行）
* **-C**： （使用压缩）
* **-F**： （指定ssh配置文件）
* **-l**： （指定宽带限制）
* **-o**： （指定使用的ssh选项）
* **-P**： （指定远程主机的端口号）
* **-p**： （保留文件的最后修改时间，最后访问时间和权限模式）
* **-q**： （不显示复制进度）
* **-r**： （以递归方式复制）
:::

scp 可以将本地文件上传到远程服务器，也可以从远程服务器拷贝文件到本地，调换下源文件和目标文件位置即可

远程服务器文件格式为 **user@host:filename**，例如root@127.0.0.1:/usr/share/nginx/blog

文件可以是完整文件名，也可以是目录

``` sh
scp [源文件] [目标文件]   

scp -r root@10.10.10.10:/opt/soft/mongodb /opt/soft/

scp root@10.10.10.10:/opt/soft/nginx-0.5.38.tar.gz /opt/soft/
```

### systemctl命令

**systemctl**命令是系统服务管理器指令，它实际上将 service 和 chkconfig 这两个命令组合到一起

::: tip 选项
**enable** 使某服务自动启动  systemctl enable nginx
**disable** 禁止某服务自动启动
**status** 查看某服务状态
**list-units --type=service** 查看所有已启动的服务
**start** 开启某服务
**stop** 停止某服务
**restart** 重启某服务
:::